<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>會員中心，解決你購物的任何煩腦-Goiiz 購意思</title>
    <meta name="description" content="歡迎免費註冊購意思，購意思提供你安心的購物經驗，讓你隨時逛街開心購！" />
    <meta property="og:title" content="會員中心，解決你購物的任何煩腦-Goiiz 購意思" />   
    <meta property="og:description" content="歡迎免費註冊購意思，購意思提供你安心的購物經驗，讓你隨時逛街開心購！" />
    <meta property="og:site_name" content="購意思 | 會員中心" />
    <link rel="icon" href="images/Goiiz-favicon.png">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/center-basic.css">
    <link rel="stylesheet" href="css/center-login.css">
</head>
<body>
<!--HEADER-->
	<header>
		<nav class="main-header">
			<div class="container-1200">
				<ul class="navi">
                    <li><a href="https://www.goiiz.com"><img src="/images/dy/GoiizHerderLogoH20.png"></a></li>
                    <li><a href="https://www.goiiz.com" target="_blank">購意思首頁</a></li>
                    <li><a href="https://ledoor.goiiz.com" target="_blank">樂多商城</a></li>
                    <li><a href="https://lediner2.goiiz.com" target="_blank">樂呆了</a></li>
                    <li><a href="https://gdp.goiiz.com/event" target="_blank">活動牆</a></li>
                    <li><a href="https://www.goiiz.com/daily_goiiz" target="_blank" style="color: #f7931c">天天購意思</a></li>
                    <li><div class="fb-like" data-href="https://www.facebook.com/goiizba" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false" style="top:-5px"></div></li>
                </ul>
			</div>
		</nav>
	</header>

<!--CONTENT-->
 <div class="container-960">
 	<article>
        <h1 class="wording">立刻加入購意思會員，享受便宜又放心的購物樂趣！</h1>
 		<section class="goiiz-login">
            <div class="tabs-area">
                <button type="button" class="tab-style tab-act" id="sign-tab">註　冊</button>
                <button type="button" class="tab-style" id="login-tab">登　入</button>
            </div>
            <div class="sign-content">
                <h3 class="sub-wording">加入購意思會員</h3>
                <section>
                    <div class="input-sign">
                        <div class="form-group">
                            <label><i class="fa fa-envelope"></i></label>
                            <input type="email" name="sign-mail" placeholder="E-mail" maxlength="50" class="form-input v-email">
                            <div class="check-alert">
                                <i class="fa fa-check"></i>
                                <i class="fa fa-times"></i>
                            </div>
                        </div>
                        <div class="form-group">
                            <label><i class="fa fa-lock"></i></label>
                            <input type="password" name="sign-passwd"  placeholder="設定密碼" maxlength="16" class="form-input v-passwd">
                            <span class="hint-o">請輸入8~16碼英數混和的密碼</span>
                            <div class="check-alert">
                                <i class="fa fa-check"></i>
                                <i class="fa fa-times"></i>
                            </div>
                        </div>
                        <div class="form-group">
                            <label><i class="fa fa-lock"></i></label>
                            <input type="password" name="sign-check" placeholder="確認密碼" maxlength="16" class="form-input v-passwd">
                            <span class="hint-o">請輸入8~16碼英數混和的密碼</span>
                            <div class="check-alert">
                                <i class="fa fa-check"></i>
                                <i class="fa fa-times"></i>
                            </div>
                        </div>
                        <!--<div class="form-group">
                            <input type="checkbox" name="agree" value="agree">我同意「購意思」
                            <a href="">客戶服務條款</a>
                        </div>-->
                        <button class="cfa-btn" id="sign-in">註　冊</button>
                    </div>
                </section>
            </div>
 			<div class="login-content" style="display: none;">
                <h3 class="sub-wording">使用您的購意思帳號登入</h3>
                <section>
                    <div class="input-area-top">
         				<div class="form-group">
         					<label><i class="fa fa-user"></i></label>
         					<input type="email" name="log-email" class="form-input v-email" maxlength="50" placeholder="帳號 / Email">
                            <div class="check-alert">
                                <i class="fa fa-check"></i>
                                <i class="fa fa-times"></i>
                            </div>
         				</div>
         				<div class="form-group">
         					<label><i class="fa fa-lock"></i></label>
         					<input type="password" name="login-passwd" class="form-input v-passwd" maxlength="16" placeholder="請輸入密碼">
                            <span class="hint-o">請輸入8~16碼英數混和的密碼</span>
                            <div class="check-alert">
                                <i class="fa fa-check"></i>
                                <i class="fa fa-times"></i>
                            </div>
         				</div>
                    </div>
                    <div class="input-area-bottom">
                        <input type="checkbox" name="remberMe" value="remberMe">
                        <label>記住我的帳號</label>
                        <a href="#" class="forgetPw">忘記登入密碼?</a>
                        <button class="cfa-btn" id="log-in">登　入</button>
                    </div>
                </section>
 			</div>
 		</section>
 	</article>
 </div>

<!--FOOTER-->
<footer>
	<div class="main-footer copy">
		<div class="container-1200">
			<p>人因互動信息科技股份有限公司 &copy; 2013-2014 Goiiz.com &amp; IncuSeed.it. </p>
		</div>
	</div>
</footer>
<script src="js/jquery-1.11.1.js"></script>
<script>
    $(function(){
        $('#login-tab').click(function(){
            $('.tab-style').removeClass('tab-act');
            $(this).addClass('tab-act');
            $('.sign-content').hide();
            $('.login-content').show();
        });
        $('#sign-tab').click(function(){
            $('.tab-style').removeClass('tab-act');
            $(this).addClass('tab-act');
            $('.login-content').hide();
            $('.sign-content').show();
        });
        $('input').focus(function(){
            $('input').parent().children('span').css('display','none');
            $(this).parent().children('span').css('display','block');
        });
    });
</script>
<script>
    $('#sign-in').click(function(){
        if( check_required() ){
            global.mail=$('input[name="sign-email"]').val();
            global.pw=md5( $('input[name="sign-passwd"]').val() );
            
            $.post('login/sign_in_new_member',{object:global}, function( response ){
                if( response=='TRUE' ){
                    window.location.href="/";
                }else{
                    alert( response );  
                }               
            });
        }
    });
</script>
<script>
alert( '<?php echo Yii::app()->request->urlReferrer; ?>' );

    $('#log-in').click(function(){
        global.mail=$('input[name="log-email"]').val();
        global.pw=md5( $('input[name="log-passwd"]').val() );
        
        $.post('login/log_in_member',{object:global}, function( response ){
            if( response=='TRUE' ){
                window.location.href='<?php echo Yii::app()->request->urlReferrer; ?>';
            }else{
                alert( response );  
                window.location.reload();
            }
        });
    });
</script>
<script>
    var global=new GLOBAL();
    var PATTERN=new PATTERN();
    var verification=new VERIFICATION();

    function GLOBAL(){
        this.mail=1;
        this.pw=1;
    }

    function VERIFICATION(){
        this.required='必填';
        this.number='只能為數值';
        this.passwd='請輸入8~16碼英數混和的密碼';
        this.float2='只能由小數點兩位以內之數值';
        this.http='請輸入 http:// https:// 為開頭的網址';
        this.unino='統一編號錯誤';
        this.phone='請輸入09開頭的手機號碼';
        this.email='郵件格式錯誤';
        this.date='日期格式為 yyyy-mm-dd';
        this.check='兩次輸入不相符';
        this.resault='請再次確認所有欄位';
        this.flag=true;
    }

    function PATTERN(){ 
        this.email = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/
        this.passwd = /^(?!.*[^a-zA-Z0-9])(?=.*\d)(?=.*[a-zA-Z]).{8,15}$/
        this.phone = /^\b^[0]{1}[9]{1}[0-9_]{8}$\b$/i       
        this.float2 = /^[0-9]+(.[0-9]{1,2})?$/i
        this.number =/^\d{1,5}$/i
        this.unino = /^\b^[0-9_]{8}$\b$/i
        this.http = /^http[s]{0,1}:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\': +!]*([^<>\"\"])*$/
        this.date = /^(\d{4}(\-)\d{1,2}(\-)\d{1,2}){1}$/
    }

    function success_form(){
        $('input').each(function(){
            $(this).css('border','0px solid');
            $(this).next('span').remove();
        });
    }

    function check_required(){
        verification.flag=true;
        success_form();
        
        $('.v-required').each(function(){
            if( $(this).val()<1 ){
                $(this).css('border','1px solid rgba(230,68,54,1)');       
                $(this).after('<span class="hint">'+verification.required+'</span>');
                $(this).after('<span class="fa fa-times"></span>');
                verification.flag=false;
            }
        });
        
        $('.v-passwd').each(function(){
            if( !PATTERN.passwd.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.passwd+'</span>');
                $(this).after('<span class="fa fa-times"></span>');
                verification.flag=false;
            }
        });
        
        $('.v-number').each(function(){
            if( !PATTERN.number.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.number+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-float2').each(function(){
            if( !PATTERN.float2.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.float2+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-email').each(function(){
            if( !PATTERN.email.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.email+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-http').each(function(){
            if( !PATTERN.http.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.http+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-phone').each(function(){
            if( !PATTERN.phone.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.phone+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-unino').each(function(){
            if( !PATTERN.unino.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.unino+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-date').each(function(){
            if( !PATTERN.date.test( $(this).val() ) ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.date+'</span>');
                verification.flag=false;
            }
        });
        
        $('.v-check').each(function(){
            if( $(this).val()!=$('input[name="'+$(this).attr('data-target')+'"]').val() ){
                $(this).css('border','1px solid rgba(230,68,54,1)');
                $(this).after('<span class="hint">'+verification.check+'</span>');
                verification.flag=false;
            }
        });
        
        return verification.flag;
    }
</script>
</body>
</html>